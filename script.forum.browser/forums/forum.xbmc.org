# Parsing data for forum.xbmc.org

# import other data here ex-> import:forum.xbmc.org

### URLs ######################################
# Base url including the trailing /
url:base=http://forum.xbmc.org/
url:forums=index.php
url:threads=forumdisplay.php?f=!FORUMID!
url:replies=showthread.php?t=!THREADID!&p=!POSTID!
url:subscriptions=subscription.php
url:login=index.php
# Not used yet
url:private_messages=private.php
url:newpost=newreply.php?do=newreply&noquote=1&p=!POSTID!
url:deletepost=editpost.php?do=editpost&p=!POSTID!
url:page_arg=page
url:gotonewpost=&goto=newpost

### Filters ###################################
# valid match names are url and suburl
filter:logo=<a href="index.php.*?"><img src="(?P<suburl>.*?)"
# valid match names are forumid, title, and description
filter:forums=(?P<subforum>\s/>\s)*(?<!\s/></a>|ntrol">|an="5">)(?:<a\shref="forumdisplay.php\?).*?f=(?P<forumid>\d+)">(?P<title>.*?)</a>.*?(?:(?:<div class="smallfont">(?P<description>.*?)</div>)|,)
# valid match names are threadid, title, starter and lastposter
filter:threads=showthread.php\?.*?t=(?P<threadid>\d+)"\sid="thread_title.*?>(?P<title>.*?)</a>.*?window.open\(\'member.php\?.*?u=\d+\', \'_self\'\)">(?P<starter>.*?)</span.*?<a href="member.php.*?rel="nofollow">(?P<lastposter>.*?)</a>
# this should match  the entire text for every post on the page from which the post filter will extract
filter:replies=<table\s.*?id="post\d+.*?<!-- / message -->.*?(?:<!-- sig -->.+?<!-- / sig -->)?
# valid match names are postid, date, userid, user, avatar, title, and message
#filter:post=<table\s.*?id="post(?P<postid>\d+).*?<!-- status icon and date -->.*?(?P<date>[\w\d-]+,\s\d+:\d+).*?<!-- / status icon and date -->.*?href="member.php.*?(?P<userid>\d+)">(?P<user>.*?)</a>.*?src="(?P<avatar>(?:image.php?.*?u=\d+&amp;dateline=\d+)*|(?=.)*).*?<!-- icon and title -->.*?(?:(?:<strong>(?P<title>.*?)</strong>)|(?:</div>)).*?<!-- / icon and title -->.*?<!-- message -->(?P<message>.*?)<!-- / message -->
filter:post=<table\s.*?id="post(?P<postid>\d+).*?<!-- status icon and date -->.*?(?P<date>[\w\d-]+,\s\d+:\d+).*?<!-- / status icon and date -->.*?<div id="postmenu_\d+">(?:(?:<a.+?href="member.php.+?u=(?P<userid>\d+)">(?P<user>.+?)</a>.+?)|(?P<guest>\w+)).*?</div><div class="smallfont">(?P<status>.+?)</div>(?:<div class="smallfont">.*?<a href="member.php.+?<img src="(?P<avatar>image.php?.+?u=\d+&amp;dateline=\d+)"\swidth=".+?</div>)?<div class="smallfont">.+?<!-- icon and title -->.*?(?:(?:<strong>(?P<title>.*?)</strong>)|(?:</div>)).*?<!-- / icon and title -->.*?<!-- message -->(?P<message>.*?)<!-- / message -->.*?(<!-- sig -->(?P<signature>.*?)<!-- / sig -->)?
filter:thread_topic=<meta name="keywords" content="(?P<topic>.+?),
filter:thread_id=href="showthread.php?[^<>]*?t=(?P<threadid>\d+)
#filter:quote=<div class="smallfont" style="margin-bottom:2px">Quote:</div><table.*?><tr><td.*?(?:inset"><div>Originally Posted by <strong>(?P<user>\w+)</strong>)?(?:<a href="showthread.php\?.*?p=(?P<postid>\d+)#\w+\d+"\s.+?<div style="font-style:italic)?">(?P<quote>.+?)(?:</div>)?</td>.*?</table>
filter:quote=<div class="smallfont" style="margin-bottom:2px">Quote:</div><table.*?><tr><td.*?(?:inset"><div>Originally Posted by <strong>(?P<user>.+?)</strong>(?:</div><div style="font-style:italic)?)?(?:<a href="showthread.php\?.*?p=(?P<postid>\d+)#\w+\d+"\s.+?<div style="font-style:italic)?">(?P<quote>(?!<div>).+?)(?:</div>)?</td>.*?</table>
# valid match names are threadid, forumid, title, starter and lastposter
filter:subscriptions===threads
filter:code=<div class.+?>Code:</div><pre.+?>(?P<code>.+?)</pre>
filter:php=<div class.+?>PHP Code:</div>.+?<!-- php buffer start --><code>(?P<php>.+?)</code><!-- php buffer end -->
filter:html=<div class.+?>HTML Code:</div><pre.+?>(?P<html>.+?)</pre>
filter:forum_link=href="[^<>"]*?forumdisplay.php?[^<>"]*?f=(?P<forumid>\d+)[^<>"]*?"[^<>]*?>(?P<text>.+?)</a>
filter:thread_link=href="[^<>"]*?showthread.php?[^<>"]*?t=(?P<threadid>\d+)[^<>"]*?"[^<>]*?>(?P<text>.+?)</a>
filter:post_link=href="[^<>"]*?showpost.php?[^<>"]*?p=(?P<postid>\d+)[^<>"]*?"[^<>]*?>(?P<text>.+?)</a>
# if forum uses a start based url should match an integer for that value else any data for page bsed urls. Valid match names are page OR start
filter:next=Next Page - Results ([\d,]+) to ([\d,]+) of ([\d,]+).*?(?P<page>Next Page - Results [\d,]+ to [\d,]+ of [\d,]+)
filter:prev=Prev Page - Results ([\d,]+) to ([\d,]+) of ([\d,]+).*?(?P<page>Prev Page - Results [\d,]+ to [\d,]+ of [\d,]+)
# valid match types display, page, and total
filter:page=>(?P<display>Page\s(?P<page>\d+)\sof\s(?P<total>\d+))<

### Theme ####################################
theme:window_bg=FF111111
theme:title_bg=FFFFFFFF
theme:title_fg=FF000000
theme:desc_fg=FF000000
theme:post_code=FF005500

### Forms ####################################
form:login_action=login.php?do=login
form:login_user=vb_login_username
form:login_pass=vb_login_password
form:post_name=vbform
form:post_action=newreply.php
form:post_title=title
form:post_message=message
form:post_submit_wait=1
# must be contiguous starting right after the action="
form:delete_action=editpost.php?do=deletepost
form:delete_control1=radio:deletepost=delete

## Formats ####################################
format:quote=[QUOTE=!USER!;!POSTID!]!QUOTE![/QUOTE]

## Smilies ####################################
# regex should return smile groups that are represented below
smilies:regex=<img\s.+?src="images/smilies/(?P<smiley>\w+)\.\w+".+?/>
smilies:color=FF999900
# the group match translation
smilies:smile=:)
smilies:tongue=:p
smilies:wink=;)
smilies:biggrin=:D
smilies:redface=:o
smilies:frown=:(
#smilies:confused=:confused2:
smilies:confused=%)
smilies:eek=:eek2:
smilies:cool=:cool2:
smilies:rolleyes=:rolleyes2:
#smilies:mad=:mad:
smilies:mad=X-(

smilies:sorry8bj=:blush:
smilies:nerd6bs=:nerd:
#smilies:laugh8kb=:laugh:
smilies:laugh8kb=:-D
#smilies:biggrin9gp=:grin:
smilies:biggrin9gp=:D
smilies:rolleyes5cz=:rolleyes:
smilies:rofl8yi=:rofl:
smilies:cool=:cool:
#smilies:wink0st=:;):
smilies:wink0st=;)
smilies:yes4lo=:nod:
smilies:eek4wd=:eek:
#smilies:shocked7fl=:shocked:
smilies:shocked7fl=8-0
#smilies:confused1bb=:???:
smilies:confused1bb=%)
#smilies:sad9cd=:sad:
smilies:sad9cd=:(
#smilies:baffled5wh=:sniffle:
smilies:baffled5wh=:-S
smilies:oo7dt=:oo:
smilies:frown3qg=:stare:
#smilies:angry6wn=:angry:
smilies:angry6wn=:-{ 
smilies:no6xn=:no:
